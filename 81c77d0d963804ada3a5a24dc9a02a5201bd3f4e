---
date: '2025-12-15'
deciders:
- '@zircote'
id: 20251215-use-hatchling-build-backend-with-dynamic
linked_commits:
- be14872
status: accepted
tags:
- build
- packaging
title: Use Hatchling Build Backend with Dynamic Versioning
---

# Use Hatchling Build Backend with Dynamic Versioning

## Status

Accepted

## Context

We need a build backend for packaging the Python project. Options considered:

1. **setuptools** - Traditional, widely supported
2. **Flit** - Simple, minimal configuration
3. **Hatchling** - Modern, dynamic versioning, good ecosystem

## Decision

Use **Hatchling** as the build backend with dynamic version from `__init__.py`.

## Consequences

### Positive
- Single source of truth for version (__init__.py)
- PEP 517/518 compliant
- Good integration with UV
- Clean pyproject.toml configuration
- Supports src-layout natively

### Negative
- Less ubiquitous than setuptools
- Another tool to learn

### Neutral
- Version read from src/claude_spec_benchmark/__init__.py
- Build via `uv build` or `python -m build`

## Configuration

```toml
[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.version]
path = "src/claude_spec_benchmark/__init__.py"
```
